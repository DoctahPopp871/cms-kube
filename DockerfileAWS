FROM ubuntu:16.04

RUN apt-get update && apt-get upgrade -y && apt-get install iptables groff ca-certificates software-properties-common \
less default-jdk vim apt-transport-https curl wget unzip python3 python3-pip sudo -y && \
pip3 install awscli && \
curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add - && \
echo "deb http://apt.kubernetes.io/ kubernetes-xenial main" | tee -a /etc/apt/sources.list.d/kubernetes.list && apt-get update && apt-get install -y kubectl && \
curl -o aws-iam-authenticator https://amazon-eks.s3-us-west-2.amazonaws.com/1.10.3/2018-07-26/bin/linux/amd64/aws-iam-authenticator && chmod a+x ./aws-iam-authenticator && \
install aws-iam-authenticator /usr/local/bin/ && \
curl -s https://download.docker.com/linux/ubuntu/gpg | apt-key add - && \
add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" && \
apt-get update && apt-get install docker-ce -y
RUN wget https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip && unzip terraform_0.11.8_linux_amd64.zip && \
install terraform /usr/local/bin/ && mkdir -p buildtools && wget https://s3.amazonaws.com/amazoncloudwatch-agent/ubuntu/amd64/latest/amazon-cloudwatch-agent.deb && \
dpkg -i -E ./amazon-cloudwatch-agent.deb && alias humamdb='kubectl' && curl -s https://packagecloud.io/install/repositories/datawireio/telepresence/script.deb.sh | bash && \
apt install --no-install-recommends telepresence -y
RUN curl https://storage.googleapis.com/kubernetes-helm/helm-v2.12.0-linux-amd64.tar.gz -o helm-v2.12.0-linux-amd64.tar.gz && \
tar -zxvf helm-v2.12.0-linux-amd64.tar.gz && install /linux-amd64/* /usr/local/bin/
EXPOSE 80
EXPOSE 443
#Add comments
